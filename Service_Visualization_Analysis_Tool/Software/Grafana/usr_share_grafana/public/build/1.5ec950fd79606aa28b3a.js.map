{"version":3,"sources":["webpack:///1.5ec950fd79606aa28b3a.js","webpack:///./public/app/features/org/all.js","webpack:///./public/app/features/org/org_users_ctrl.ts","webpack:///./public/app/features/org/newOrgCtrl.js","webpack:///./public/app/features/org/select_org_ctrl.js","webpack:///./public/app/features/org/change_password_ctrl.js","webpack:///./public/app/features/org/profile_ctrl.ts","webpack:///./public/app/features/org/userInviteCtrl.js","webpack:///./public/app/features/org/orgApiKeysCtrl.js","webpack:///./public/app/features/org/orgDetailsCtrl.js","webpack:///./public/app/features/org/prefs_control.ts"],"names":["webpackJsonp","793","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","apply","813","__webpack_exports__","Object","defineProperty","value","d","OrgUsersCtrl","__WEBPACK_IMPORTED_MODULE_0_app_core_config__","__WEBPACK_IMPORTED_MODULE_0_app_core_config___default","n","__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__","__WEBPACK_IMPORTED_MODULE_2_remarkable__","__WEBPACK_IMPORTED_MODULE_2_remarkable___default","$scope","backendSrv","navModelSrv","$sce","this","user","loginOrEmail","role","navModel","getOrgNav","get","editor","index","externalUserMngLinkUrl","a","externalUserMngLinkName","externalUserMngInfo","linkTarget","render","addUsersBtnName","getAddUserBtnName","$inject","prototype","disableLoginForm","_this","then","users","pendingInvites","updateOrgUser","patch","userId","removeUser","appEvent","title","text","login","yesText","icon","onConfirm","removeUserConfirmed","delete","bind","revokeInvite","invite","evt","stopPropagation","code","copyInviteToClipboard","getInviteUrl","url","openAddUsersView","modalScope","$new","invitesSent","src","modalClass","scope","controller","839","angular","config","$http","newOrg","name","createOrg","post","result","orgId","window","location","href","appSubUrl","call","840","contextSrv","sidemenu","init","getUserOrgs","orgs","setUsingOrg","org","841","$location","command","authProxyEnabled","ldapEnabled","getProfileNav","changePassword","userForm","$valid","newPassword","confirmNew","put","path","842","ProfileCtrl","__WEBPACK_IMPORTED_MODULE_1_app_core_core__","showOrgsList","readonlyLoginFields","getUser","theme","length","update","old_theme","843","_","invites","email","options","skipEmails","addInvite","push","removeInvite","without","sendInvites","inviteForm","sendSingleInvite","finally","dismiss","844","roleTypes","token","getTokens","tokens","removeToken","id","addToken","key","rootPath","origin","$root","845","getOrgInfo","address","orgName","orgForm","data","updateAddress","addressForm","846","prefsControlDirective","restrict","PrefsControlCtrl","bindToController","controllerAs","template","mode","timezones","themes","$onInit","prefs","oldTheme","updatePrefs","prefsForm","cmd","timezone","homeDashboardId","directive"],"mappings":"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","file":"1.5ec950fd79606aa28b3a.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 793:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(813),\n  __webpack_require__(842),\n  __webpack_require__(813),\n  __webpack_require__(840),\n  __webpack_require__(841),\n  __webpack_require__(839),\n  __webpack_require__(843),\n  __webpack_require__(844),\n  __webpack_require__(845),\n  __webpack_require__(846),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 813:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OrgUsersCtrl\", function() { return OrgUsersCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_app_core_config__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable__ = __webpack_require__(294);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_remarkable__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar OrgUsersCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    OrgUsersCtrl.$inject = [\"$scope\", \"backendSrv\", \"navModelSrv\", \"$sce\"];\r\n    function OrgUsersCtrl($scope, backendSrv, navModelSrv, $sce) {\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.user = {\r\n            loginOrEmail: '',\r\n            role: 'Viewer',\r\n        };\r\n        this.navModel = navModelSrv.getOrgNav(0);\r\n        this.get();\r\n        this.editor = { index: 0 };\r\n        this.externalUserMngLinkUrl = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.externalUserMngLinkUrl;\r\n        this.externalUserMngLinkName = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.externalUserMngLinkName;\r\n        // render external user management info markdown\r\n        if (__WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.externalUserMngInfo) {\r\n            this.externalUserMngInfo = new __WEBPACK_IMPORTED_MODULE_2_remarkable___default.a({\r\n                linkTarget: '__blank',\r\n            }).render(__WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.externalUserMngInfo);\r\n        }\r\n        this.addUsersBtnName = this.getAddUserBtnName();\r\n    }\r\n    OrgUsersCtrl.prototype.getAddUserBtnName = function () {\r\n        if (this.externalUserMngLinkName) {\r\n            return this.externalUserMngLinkName;\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.disableLoginForm) {\r\n            return \"Add Users\";\r\n        }\r\n        else {\r\n            return \"Add or Invite\";\r\n        }\r\n    };\r\n    OrgUsersCtrl.prototype.get = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/org/users')\r\n            .then(function (users) {\r\n            _this.users = users;\r\n        });\r\n        this.backendSrv.get('/api/org/invites')\r\n            .then(function (pendingInvites) {\r\n            _this.pendingInvites = pendingInvites;\r\n        });\r\n    };\r\n    OrgUsersCtrl.prototype.updateOrgUser = function (user) {\r\n        this.backendSrv.patch('/api/org/users/' + user.userId, user);\r\n    };\r\n    OrgUsersCtrl.prototype.removeUser = function (user) {\r\n        var _this = this;\r\n        this.$scope.appEvent('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete user ' + user.login + '?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-warning\",\r\n            onConfirm: function () {\r\n                _this.removeUserConfirmed(user);\r\n            }\r\n        });\r\n    };\r\n    OrgUsersCtrl.prototype.removeUserConfirmed = function (user) {\r\n        this.backendSrv.delete('/api/org/users/' + user.userId)\r\n            .then(this.get.bind(this));\r\n    };\r\n    OrgUsersCtrl.prototype.revokeInvite = function (invite, evt) {\r\n        evt.stopPropagation();\r\n        this.backendSrv.patch('/api/org/invites/' + invite.code + '/revoke')\r\n            .then(this.get.bind(this));\r\n    };\r\n    OrgUsersCtrl.prototype.copyInviteToClipboard = function (evt) {\r\n        evt.stopPropagation();\r\n    };\r\n    OrgUsersCtrl.prototype.getInviteUrl = function (invite) {\r\n        return invite.url;\r\n    };\r\n    OrgUsersCtrl.prototype.openAddUsersView = function () {\r\n        var modalScope = this.$scope.$new();\r\n        modalScope.invitesSent = this.get.bind(this);\r\n        var src = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.disableLoginForm\r\n            ? 'public/app/features/org/partials/add_user.html'\r\n            : 'public/app/features/org/partials/invite.html';\r\n        this.$scope.appEvent('show-modal', {\r\n            src: src,\r\n            modalClass: 'invite-modal',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    return OrgUsersCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].controller('OrgUsersCtrl', OrgUsersCtrl);\r\n\n\n/***/ }),\n\n/***/ 839:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n  __webpack_require__(21),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('NewOrgCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"navModelSrv\", function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.newOrg = {name: ''};\n\n    $scope.createOrg = function() {\n      backendSrv.post('/api/orgs/', $scope.newOrg).then(function(result) {\n        backendSrv.post('/api/user/using/' + result.orgId).then(function() {\n          window.location.href = config.appSubUrl + '/org';\n        });\n      });\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 840:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n  __webpack_require__(21),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SelectOrgCtrl', [\"$scope\", \"backendSrv\", \"contextSrv\", function($scope, backendSrv, contextSrv) {\n\n    contextSrv.sidemenu = false;\n\n    $scope.init = function() {\n      $scope.getUserOrgs();\n    };\n\n    $scope.getUserOrgs = function() {\n      backendSrv.get('/api/user/orgs').then(function(orgs) {\n        $scope.orgs = orgs;\n      });\n    };\n\n    $scope.setUsingOrg = function(org) {\n      backendSrv.post('/api/user/using/' + org.orgId).then(function() {\n        window.location.href = config.appSubUrl + '/';\n      });\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 841:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n  __webpack_require__(21),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ChangePasswordCtrl', [\"$scope\", \"backendSrv\", \"$location\", \"navModelSrv\", function($scope, backendSrv, $location, navModelSrv) {\n\n    $scope.command = {};\n    $scope.authProxyEnabled = config.authProxyEnabled;\n    $scope.ldapEnabled = config.ldapEnabled;\n    $scope.navModel = navModelSrv.getProfileNav();\n\n    $scope.changePassword = function() {\n      if (!$scope.userForm.$valid) { return; }\n\n      if ($scope.command.newPassword !== $scope.command.confirmNew) {\n        $scope.appEvent('alert-warning', ['New passwords do not match', '']);\n        return;\n      }\n\n      backendSrv.put('/api/user/password', $scope.command).then(function() {\n        $location.path(\"profile\");\n      });\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 842:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProfileCtrl\", function() { return ProfileCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_app_core_config__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core__ = __webpack_require__(290);\n\r\n\r\nvar ProfileCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    ProfileCtrl.$inject = [\"backendSrv\", \"contextSrv\", \"$location\", \"navModelSrv\"];\r\n    function ProfileCtrl(backendSrv, contextSrv, $location, navModelSrv) {\r\n        this.backendSrv = backendSrv;\r\n        this.contextSrv = contextSrv;\r\n        this.$location = $location;\r\n        this.orgs = [];\r\n        this.showOrgsList = false;\r\n        this.readonlyLoginFields = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.disableLoginForm;\r\n        this.getUser();\r\n        this.getUserOrgs();\r\n        this.navModel = navModelSrv.getProfileNav();\r\n    }\r\n    ProfileCtrl.prototype.getUser = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/user').then(function (user) {\r\n            _this.user = user;\r\n            _this.user.theme = user.theme || 'dark';\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.getUserOrgs = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/user/orgs').then(function (orgs) {\r\n            _this.orgs = orgs;\r\n            _this.showOrgsList = orgs.length > 1;\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.setUsingOrg = function (org) {\r\n        this.backendSrv.post('/api/user/using/' + org.orgId).then(function () {\r\n            window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.appSubUrl + '/profile';\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.update = function () {\r\n        var _this = this;\r\n        if (!this.userForm.$valid) {\r\n            return;\r\n        }\r\n        this.backendSrv.put('/api/user/', this.user).then(function () {\r\n            _this.contextSrv.user.name = _this.user.name || _this.user.login;\r\n            if (_this.old_theme !== _this.user.theme) {\r\n                window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.appSubUrl + _this.$location.path();\r\n            }\r\n        });\r\n    };\r\n    return ProfileCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"coreModule\"].controller('ProfileCtrl', ProfileCtrl);\r\n\n\n/***/ }),\n\n/***/ 843:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n  __webpack_require__(4),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('UserInviteCtrl', [\"$scope\", \"backendSrv\", function($scope, backendSrv) {\n\n    $scope.invites = [\n      {name: '', email: '', role: 'Editor'},\n    ];\n\n    $scope.options = {skipEmails: false};\n    $scope.init = function() { };\n\n    $scope.addInvite = function() {\n      $scope.invites.push({name: '', email: '', role: 'Editor'});\n    };\n\n    $scope.removeInvite = function(invite) {\n      $scope.invites = _.without($scope.invites, invite);\n    };\n\n    $scope.sendInvites = function() {\n      if (!$scope.inviteForm.$valid) { return; }\n      $scope.sendSingleInvite(0);\n    };\n\n    $scope.sendSingleInvite = function(index) {\n      var invite = $scope.invites[index];\n      invite.skipEmails = $scope.options.skipEmails;\n\n      return backendSrv.post('/api/org/invites', invite).finally(function() {\n        index += 1;\n\n        if (index === $scope.invites.length) {\n          $scope.invitesSent();\n          $scope.dismiss();\n        } else {\n          $scope.sendSingleInvite(index);\n        }\n      });\n    };\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 844:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgApiKeysCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"navModelSrv\", function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.roleTypes = ['Viewer', 'Editor', 'Admin'];\n    $scope.token = { role: 'Viewer' };\n\n    $scope.init = function() {\n      $scope.getTokens();\n    };\n\n    $scope.getTokens = function() {\n      backendSrv.get('/api/auth/keys').then(function(tokens) {\n        $scope.tokens = tokens;\n      });\n    };\n\n    $scope.removeToken = function(id) {\n      backendSrv.delete('/api/auth/keys/'+id).then($scope.getTokens);\n    };\n\n    $scope.addToken = function() {\n      backendSrv.post('/api/auth/keys', $scope.token).then(function(result) {\n\n        var modalScope = $scope.$new(true);\n        modalScope.key = result.key;\n        modalScope.rootPath = window.location.origin + $scope.$root.appSubUrl;\n\n        $scope.appEvent('show-modal', {\n          src: 'public/app/features/org/partials/apikeyModal.html',\n          scope: modalScope\n        });\n\n        $scope.getTokens();\n      });\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 845:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(8),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgDetailsCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"contextSrv\", \"navModelSrv\", function($scope, $http, backendSrv, contextSrv, navModelSrv) {\n\n    $scope.init = function() {\n      $scope.getOrgInfo();\n      $scope.navModel = navModelSrv.getOrgNav(0);\n    };\n\n    $scope.getOrgInfo = function() {\n      backendSrv.get('/api/org').then(function(org) {\n        $scope.org = org;\n        $scope.address = org.address;\n        contextSrv.user.orgName = org.name;\n      });\n    };\n\n    $scope.update = function() {\n      if (!$scope.orgForm.$valid) { return; }\n      var data = {name: $scope.org.name};\n      backendSrv.put('/api/org', data).then($scope.getOrgInfo);\n    };\n\n    $scope.updateAddress = function() {\n      if (!$scope.addressForm.$valid) { return; }\n      backendSrv.put('/api/org/address', $scope.address).then($scope.getOrgInfo);\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(110)(module)))\n\n/***/ }),\n\n/***/ 846:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrefsControlCtrl\", function() { return PrefsControlCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"prefsControlDirective\"] = prefsControlDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_app_core_config__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar PrefsControlCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    PrefsControlCtrl.$inject = [\"backendSrv\", \"$location\"];\r\n    function PrefsControlCtrl(backendSrv, $location) {\r\n        this.backendSrv = backendSrv;\r\n        this.$location = $location;\r\n        this.timezones = [\r\n            { value: '', text: 'Default' },\r\n            { value: 'browser', text: 'Local browser time' },\r\n            { value: 'utc', text: 'UTC' },\r\n        ];\r\n        this.themes = [\r\n            { value: '', text: 'Default' },\r\n            { value: 'dark', text: 'Dark' },\r\n            { value: 'light', text: 'Light' },\r\n        ];\r\n    }\r\n    PrefsControlCtrl.prototype.$onInit = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get(\"/api/\" + this.mode + \"/preferences\").then(function (prefs) {\r\n            _this.prefs = prefs;\r\n            _this.oldTheme = prefs.theme;\r\n        });\r\n    };\r\n    PrefsControlCtrl.prototype.updatePrefs = function () {\r\n        var _this = this;\r\n        if (!this.prefsForm.$valid) {\r\n            return;\r\n        }\r\n        var cmd = {\r\n            theme: this.prefs.theme,\r\n            timezone: this.prefs.timezone,\r\n            homeDashboardId: this.prefs.homeDashboardId\r\n        };\r\n        this.backendSrv.put(\"/api/\" + this.mode + \"/preferences\", cmd).then(function () {\r\n            window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config___default.a.appSubUrl + _this.$location.path();\r\n        });\r\n    };\r\n    return PrefsControlCtrl;\r\n}());\r\n\r\nvar template = \"\\n<form name=\\\"ctrl.prefsForm\\\" class=\\\"section gf-form-group\\\">\\n  <h3 class=\\\"page-heading\\\">Preferences</h3>\\n\\n  <div class=\\\"gf-form\\\">\\n    <span class=\\\"gf-form-label width-11\\\">UI Theme</span>\\n    <div class=\\\"gf-form-select-wrapper max-width-20\\\">\\n      <select class=\\\"gf-form-input\\\" ng-model=\\\"ctrl.prefs.theme\\\" ng-options=\\\"f.value as f.text for f in ctrl.themes\\\"></select>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form\\\">\\n    <span class=\\\"gf-form-label width-11\\\">\\n      Home Dashboard\\n      <info-popover mode=\\\"right-normal\\\">\\n        Not finding dashboard you want? Star it first, then it should appear in this select box.\\n      </info-popover>\\n    </span>\\n    <dashboard-selector class=\\\"gf-form-select-wrapper max-width-20\\\" model=\\\"ctrl.prefs.homeDashboardId\\\">\\n    </dashboard-selector>\\n  </div>\\n\\n  <div class=\\\"gf-form\\\">\\n    <label class=\\\"gf-form-label width-11\\\">Timezone</label>\\n    <div class=\\\"gf-form-select-wrapper max-width-20\\\">\\n      <select class=\\\"gf-form-input\\\" ng-model=\\\"ctrl.prefs.timezone\\\" ng-options=\\\"f.value as f.text for f in ctrl.timezones\\\"></select>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-button-row\\\">\\n    <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-click=\\\"ctrl.updatePrefs()\\\">Update</button>\\n  </div>\\n</form>\\n\";\r\nfunction prefsControlDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        controller: PrefsControlCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        template: template,\r\n        scope: {\r\n            mode: \"@\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].directive('prefsControl', prefsControlDirective);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.5ec950fd79606aa28b3a.js","define([\n  './org_users_ctrl',\n  './profile_ctrl',\n  './org_users_ctrl',\n  './select_org_ctrl',\n  './change_password_ctrl',\n  './newOrgCtrl',\n  './userInviteCtrl',\n  './orgApiKeysCtrl',\n  './orgDetailsCtrl',\n  './prefs_control',\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/all.js\n// module id = 793\n// module chunks = 1","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\nimport Remarkable from 'remarkable';\n\nexport class OrgUsersCtrl {\n\n  user: any;\n  users: any;\n  pendingInvites: any;\n  editor: any;\n  navModel: any;\n  externalUserMngLinkUrl: string;\n  externalUserMngLinkName: string;\n  externalUserMngInfo: string;\n  addUsersBtnName: string;\n\n  /** @ngInject */\n  constructor(private $scope, private backendSrv, navModelSrv, $sce) {\n    this.user = {\n      loginOrEmail: '',\n      role: 'Viewer',\n    };\n    this.navModel = navModelSrv.getOrgNav(0);\n\n    this.get();\n    this.editor = { index: 0 };\n    this.externalUserMngLinkUrl = config.externalUserMngLinkUrl;\n    this.externalUserMngLinkName = config.externalUserMngLinkName;\n\n    // render external user management info markdown\n    if (config.externalUserMngInfo) {\n      this.externalUserMngInfo = new Remarkable({\n        linkTarget: '__blank',\n      }).render(config.externalUserMngInfo);\n    }\n\n    this.addUsersBtnName = this.getAddUserBtnName();\n  }\n\n  getAddUserBtnName(): string {\n    if (this.externalUserMngLinkName) {\n      return this.externalUserMngLinkName;\n    } else if (config.disableLoginForm) {\n      return \"Add Users\";\n    } else {\n      return \"Add or Invite\";\n    }\n  }\n\n  get() {\n    this.backendSrv.get('/api/org/users')\n      .then((users) => {\n        this.users = users;\n      });\n    this.backendSrv.get('/api/org/invites')\n      .then((pendingInvites) => {\n        this.pendingInvites = pendingInvites;\n      });\n  }\n\n  updateOrgUser(user) {\n    this.backendSrv.patch('/api/org/users/' + user.userId, user);\n  }\n\n  removeUser(user) {\n    this.$scope.appEvent('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete user ' + user.login + '?',\n      yesText: \"Delete\",\n      icon: \"fa-warning\",\n      onConfirm: () => {\n        this.removeUserConfirmed(user);\n      }\n    });\n  }\n\n  removeUserConfirmed(user) {\n    this.backendSrv.delete('/api/org/users/' + user.userId)\n      .then(this.get.bind(this));\n  }\n\n  revokeInvite(invite, evt) {\n    evt.stopPropagation();\n    this.backendSrv.patch('/api/org/invites/' + invite.code + '/revoke')\n      .then(this.get.bind(this));\n  }\n\n  copyInviteToClipboard(evt) {\n    evt.stopPropagation();\n  }\n\n getInviteUrl(invite) {\n   return invite.url;\n }\n\n openAddUsersView() {\n   var modalScope = this.$scope.$new();\n   modalScope.invitesSent = this.get.bind(this);\n\n   var src = config.disableLoginForm\n     ? 'public/app/features/org/partials/add_user.html'\n     : 'public/app/features/org/partials/invite.html';\n\n     this.$scope.appEvent('show-modal', {\n       src: src,\n       modalClass: 'invite-modal',\n       scope: modalScope\n     });\n }\n\n}\n\ncoreModule.controller('OrgUsersCtrl', OrgUsersCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/org_users_ctrl.ts","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('NewOrgCtrl', function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.newOrg = {name: ''};\n\n    $scope.createOrg = function() {\n      backendSrv.post('/api/orgs/', $scope.newOrg).then(function(result) {\n        backendSrv.post('/api/user/using/' + result.orgId).then(function() {\n          window.location.href = config.appSubUrl + '/org';\n        });\n      });\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/newOrgCtrl.js\n// module id = 839\n// module chunks = 1","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SelectOrgCtrl', function($scope, backendSrv, contextSrv) {\n\n    contextSrv.sidemenu = false;\n\n    $scope.init = function() {\n      $scope.getUserOrgs();\n    };\n\n    $scope.getUserOrgs = function() {\n      backendSrv.get('/api/user/orgs').then(function(orgs) {\n        $scope.orgs = orgs;\n      });\n    };\n\n    $scope.setUsingOrg = function(org) {\n      backendSrv.post('/api/user/using/' + org.orgId).then(function() {\n        window.location.href = config.appSubUrl + '/';\n      });\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/select_org_ctrl.js\n// module id = 840\n// module chunks = 1","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ChangePasswordCtrl', function($scope, backendSrv, $location, navModelSrv) {\n\n    $scope.command = {};\n    $scope.authProxyEnabled = config.authProxyEnabled;\n    $scope.ldapEnabled = config.ldapEnabled;\n    $scope.navModel = navModelSrv.getProfileNav();\n\n    $scope.changePassword = function() {\n      if (!$scope.userForm.$valid) { return; }\n\n      if ($scope.command.newPassword !== $scope.command.confirmNew) {\n        $scope.appEvent('alert-warning', ['New passwords do not match', '']);\n        return;\n      }\n\n      backendSrv.put('/api/user/password', $scope.command).then(function() {\n        $location.path(\"profile\");\n      });\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/change_password_ctrl.js\n// module id = 841\n// module chunks = 1","import config from 'app/core/config';\nimport {coreModule} from 'app/core/core';\n\nexport class ProfileCtrl {\n  user: any;\n  old_theme: any;\n  orgs: any = [];\n  userForm: any;\n  showOrgsList = false;\n  readonlyLoginFields = config.disableLoginForm;\n  navModel: any;\n\n  /** @ngInject **/\n  constructor(private backendSrv, private contextSrv, private $location, navModelSrv) {\n    this.getUser();\n    this.getUserOrgs();\n    this.navModel = navModelSrv.getProfileNav();\n  }\n\n  getUser() {\n    this.backendSrv.get('/api/user').then(user => {\n      this.user = user;\n      this.user.theme = user.theme || 'dark';\n    });\n  }\n\n  getUserOrgs() {\n    this.backendSrv.get('/api/user/orgs').then(orgs => {\n      this.orgs = orgs;\n      this.showOrgsList = orgs.length > 1;\n    });\n  }\n\n  setUsingOrg(org) {\n    this.backendSrv.post('/api/user/using/' + org.orgId).then(() => {\n      window.location.href = config.appSubUrl + '/profile';\n    });\n  }\n\n  update() {\n    if (!this.userForm.$valid) { return; }\n\n    this.backendSrv.put('/api/user/', this.user).then(() => {\n      this.contextSrv.user.name = this.user.name || this.user.login;\n      if (this.old_theme !== this.user.theme) {\n        window.location.href = config.appSubUrl + this.$location.path();\n      }\n    });\n  }\n\n}\n\ncoreModule.controller('ProfileCtrl', ProfileCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/profile_ctrl.ts","define([\n  'angular',\n  'lodash',\n],\nfunction (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('UserInviteCtrl', function($scope, backendSrv) {\n\n    $scope.invites = [\n      {name: '', email: '', role: 'Editor'},\n    ];\n\n    $scope.options = {skipEmails: false};\n    $scope.init = function() { };\n\n    $scope.addInvite = function() {\n      $scope.invites.push({name: '', email: '', role: 'Editor'});\n    };\n\n    $scope.removeInvite = function(invite) {\n      $scope.invites = _.without($scope.invites, invite);\n    };\n\n    $scope.sendInvites = function() {\n      if (!$scope.inviteForm.$valid) { return; }\n      $scope.sendSingleInvite(0);\n    };\n\n    $scope.sendSingleInvite = function(index) {\n      var invite = $scope.invites[index];\n      invite.skipEmails = $scope.options.skipEmails;\n\n      return backendSrv.post('/api/org/invites', invite).finally(function() {\n        index += 1;\n\n        if (index === $scope.invites.length) {\n          $scope.invitesSent();\n          $scope.dismiss();\n        } else {\n          $scope.sendSingleInvite(index);\n        }\n      });\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/userInviteCtrl.js\n// module id = 843\n// module chunks = 1","define([\n  'angular',\n],\nfunction (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgApiKeysCtrl', function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.roleTypes = ['Viewer', 'Editor', 'Admin'];\n    $scope.token = { role: 'Viewer' };\n\n    $scope.init = function() {\n      $scope.getTokens();\n    };\n\n    $scope.getTokens = function() {\n      backendSrv.get('/api/auth/keys').then(function(tokens) {\n        $scope.tokens = tokens;\n      });\n    };\n\n    $scope.removeToken = function(id) {\n      backendSrv.delete('/api/auth/keys/'+id).then($scope.getTokens);\n    };\n\n    $scope.addToken = function() {\n      backendSrv.post('/api/auth/keys', $scope.token).then(function(result) {\n\n        var modalScope = $scope.$new(true);\n        modalScope.key = result.key;\n        modalScope.rootPath = window.location.origin + $scope.$root.appSubUrl;\n\n        $scope.appEvent('show-modal', {\n          src: 'public/app/features/org/partials/apikeyModal.html',\n          scope: modalScope\n        });\n\n        $scope.getTokens();\n      });\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/orgApiKeysCtrl.js\n// module id = 844\n// module chunks = 1","define([\n  'angular',\n],\nfunction (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgDetailsCtrl', function($scope, $http, backendSrv, contextSrv, navModelSrv) {\n\n    $scope.init = function() {\n      $scope.getOrgInfo();\n      $scope.navModel = navModelSrv.getOrgNav(0);\n    };\n\n    $scope.getOrgInfo = function() {\n      backendSrv.get('/api/org').then(function(org) {\n        $scope.org = org;\n        $scope.address = org.address;\n        contextSrv.user.orgName = org.name;\n      });\n    };\n\n    $scope.update = function() {\n      if (!$scope.orgForm.$valid) { return; }\n      var data = {name: $scope.org.name};\n      backendSrv.put('/api/org', data).then($scope.getOrgInfo);\n    };\n\n    $scope.updateAddress = function() {\n      if (!$scope.addressForm.$valid) { return; }\n      backendSrv.put('/api/org/address', $scope.address).then($scope.getOrgInfo);\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/orgDetailsCtrl.js\n// module id = 845\n// module chunks = 1","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\n\nexport class PrefsControlCtrl {\n  prefs: any;\n  oldTheme: any;\n  prefsForm: any;\n  mode: string;\n\n  timezones: any = [\n    {value: '', text: 'Default'},\n    {value: 'browser', text: 'Local browser time'},\n    {value: 'utc', text: 'UTC'},\n  ];\n  themes: any = [\n    {value: '', text: 'Default'},\n    {value: 'dark', text: 'Dark'},\n    {value: 'light', text: 'Light'},\n  ];\n\n  /** @ngInject **/\n  constructor(private backendSrv, private $location) {\n  }\n\n  $onInit() {\n    return this.backendSrv.get(`/api/${this.mode}/preferences`).then(prefs => {\n      this.prefs = prefs;\n      this.oldTheme = prefs.theme;\n    });\n  }\n\n  updatePrefs() {\n    if (!this.prefsForm.$valid) { return; }\n\n    var cmd = {\n      theme: this.prefs.theme,\n      timezone: this.prefs.timezone,\n      homeDashboardId: this.prefs.homeDashboardId\n    };\n\n    this.backendSrv.put(`/api/${this.mode}/preferences`, cmd).then(() => {\n      window.location.href = config.appSubUrl + this.$location.path();\n    });\n  }\n\n}\n\nvar template = `\n<form name=\"ctrl.prefsForm\" class=\"section gf-form-group\">\n  <h3 class=\"page-heading\">Preferences</h3>\n\n  <div class=\"gf-form\">\n    <span class=\"gf-form-label width-11\">UI Theme</span>\n    <div class=\"gf-form-select-wrapper max-width-20\">\n      <select class=\"gf-form-input\" ng-model=\"ctrl.prefs.theme\" ng-options=\"f.value as f.text for f in ctrl.themes\"></select>\n    </div>\n  </div>\n\n  <div class=\"gf-form\">\n    <span class=\"gf-form-label width-11\">\n      Home Dashboard\n      <info-popover mode=\"right-normal\">\n        Not finding dashboard you want? Star it first, then it should appear in this select box.\n      </info-popover>\n    </span>\n    <dashboard-selector class=\"gf-form-select-wrapper max-width-20\" model=\"ctrl.prefs.homeDashboardId\">\n    </dashboard-selector>\n  </div>\n\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-11\">Timezone</label>\n    <div class=\"gf-form-select-wrapper max-width-20\">\n      <select class=\"gf-form-input\" ng-model=\"ctrl.prefs.timezone\" ng-options=\"f.value as f.text for f in ctrl.timezones\"></select>\n    </div>\n  </div>\n\n  <div class=\"gf-form-button-row\">\n    <button type=\"submit\" class=\"btn btn-success\" ng-click=\"ctrl.updatePrefs()\">Update</button>\n  </div>\n</form>\n`;\n\nexport function prefsControlDirective() {\n  return {\n    restrict: 'E',\n    controller: PrefsControlCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    template: template,\n    scope: {\n      mode: \"@\"\n    }\n  };\n}\n\ncoreModule.directive('prefsControl', prefsControlDirective);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/prefs_control.ts"],"sourceRoot":""}