<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Links Network demo</title>

        <style>
            div {font: 10pt arial;

                 /*background-image:url('../img/unnamed.png');
                */ 
		background-size: 100% 100%;
            }


            /*   position:absolute;
            content:"";
            opacity: 0.6;
            filter: alpha(opacity=40);
            */       
        </style>

        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script type="text/javascript" src="../dist/network.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script type="text/javascript">

            var nodesTable = null;
            var linksTable = null;
            var network = null;
            var options = null;

            var DIR = '../img/';
            var moveX = 0;
            var moveY = 160;
	    var deltaCam = 10;

            //google.load(API_name, version)
            google.load('visualization', '1');//?

            // Set callback to run when API is loaded  `
            google.setOnLoadCallback(drawVisualization);//?


            function drawVisualization() {

                //use the 'google.visualization' API's DataTable() 
                //make the Matrix(including column and row)
                nodesTable = new google.visualization.DataTable();
                linksTable = new google.visualization.DataTable();

                //when you add the column, Column goes orderly
                nodesTable.addColumn('number', 'id');
                nodesTable.addColumn('string', 'text');
                nodesTable.addColumn('string', 'image');
                nodesTable.addColumn('string', 'style');
                nodesTable.addColumn('number', 'x');
                nodesTable.addColumn('number', 'y');



                //when you add the row, Row goes orderly
                nodesTable.addRow([1, 'KOREN', DIR + 'cloud.PNG', 'image', 550 + moveX, 350 + moveY]);
                //////////////////Type-O 
                nodesTable.addRow([2, 'TYPE O - KU', DIR + 'TYPEO-hard.PNG', 'image', 300 + moveX, 420 + moveY]);
                nodesTable.addRow([3, 'TYPE O - GIST', DIR + 'TYPEO-hard.PNG', 'image', 500 + moveX, 500 + moveY]);
                nodesTable.addRow([4, 'TYPE O - JNU', DIR + 'TYPEO-hard.PNG', 'image', 780 + moveX, 400 + moveY]);
                nodesTable.addRow([5, ' ', DIR + 'TYPEO-hard.PNG', 'image', 4000 + moveX, 4400 + moveY]);




                /////////////
                /////////////
                nodesTable.addRow([8, 'KU_Phone', DIR + 'Iphone.PNG', 'image', 200 + moveX, 420 + moveY]);
                nodesTable.addRow([9, 'JNU_video', DIR + 'cam.png', 'image', 990 + moveX, 400 + moveY]);
                nodesTable.addRow([10, 'JNU_Drone', DIR + 'drone.PNG', 'image', 950 + moveX, 300 + moveY]);




		///////////////JNU_DORNE_SENSOR
                nodesTable.addRow([14, 'DRONE_TEMP', DIR + 'sensor.png', 'image', 900 + moveX, 150 + moveY]);
                nodesTable.addRow([15, 'DRONE_DUST', DIR + 'sensor.png', 'image', 980 + moveX, 120 + moveY]);
                nodesTable.addRow([16, 'DRONE_LIGHT', DIR + 'sensor.png', 'image', 1060 + moveX, 150 + moveY]);
                nodesTable.addRow([20, 'DRONE_ALCOHOL_GAS', DIR + 'sensor.png', 'image', 1100 + moveX, 210 + moveY]);
                nodesTable.addRow([26, 'DRONE_GPS', DIR + 'sensor.png', 'image', 1100 + moveX, 270 + moveY]);



                ///////////GIST에 있는 라즈베리파이

                nodesTable.addRow([21, 'Raspberry Pi', DIR + 'Raspberry.png', 'image', 550 + moveX, 605 + moveY]);
                nodesTable.addRow([22, 'RASP_TEMP', DIR + 'sensor.png', 'image', 550 + moveX, 710 + moveY]);
                nodesTable.addRow([23, 'RASP_DUST', DIR + 'sensor.png', 'image', 630 + moveX, 730 + moveY]);
                nodesTable.addRow([24, 'RASP_LIGHT', DIR + 'sensor.png', 'image', 710 + moveX, 720 + moveY]);
                nodesTable.addRow([25, 'RASP_ALCOHOL_GAS', DIR + 'sensor.png', 'image', 750 + moveX, 640 + moveY]);
                nodesTable.addRow([27, 'RASP_GPS', DIR + 'sensor.png', 'image', 750 + moveX, 570 + moveY]);

                ///////////JNU_Rasp_SenSor
                nodesTable.addRow([31, 'Raspberry Pi', DIR + 'Raspberry.png', 'image', 950 + moveX, 520 + moveY]);
                nodesTable.addRow([32, 'RASP_TEMP', DIR + 'sensor.png', 'image', 900 + moveX, 650 + moveY]);
                nodesTable.addRow([33, 'RASP_DUST', DIR + 'sensor.png', 'image', 980 + moveX, 680 + moveY]);
                nodesTable.addRow([34, 'RASP_LIGHT', DIR + 'sensor.png', 'image', 1060 + moveX, 650 + moveY]);
                nodesTable.addRow([35, 'RASP_ALCOHOL_GAS', DIR + 'sensor.png', 'image', 1100 + moveX, 590 + moveY]);
                nodesTable.addRow([36, 'RASP_GPS', DIR + 'sensor.png', 'image', 1100 + moveX, 520 + moveY]);


                ///////////DEMO_PHONE,DRONE
                nodesTable.addRow([17, 'TYPE 0 - DEMO', DIR + 'TYPEO-hard.PNG', 'image', 500 + moveX, 170 + moveY]);
                nodesTable.addRow([18, 'Demo Drone', DIR + 'drone.PNG', 'image', 400 + moveX, 60 + moveY]);
                nodesTable.addRow([19, 'Demo Phone', DIR + 'Iphone.PNG', 'image', 580 + moveX, 20 + moveY]);

                /////////////KU
                nodesTable.addRow([11, 'KU_DUST', DIR + 'sensor.png', 'image', 90 + moveX, 380 + moveY]);
                nodesTable.addRow([12, 'KU_GPS', DIR + 'sensor.png', 'image', 80 + moveX, 470 + moveY]);
                nodesTable.addRow([13, 'KU_Video', DIR + 'cam.png', 'image', 108 + moveX, 540 + moveY]);

                //////////////////////안 쓰는 sensor 추가부분. 50번대////
                ////////////Demo Drone_sensor
                nodesTable.addRow([51, 'DRONE_TEMP', DIR + 'sensor.png', 'image', 240 + moveX, moveY - 50]);

                nodesTable.addRow([52, 'DRONE_DUST', DIR + 'sensor.png', 'image', 320 + moveX, moveY - 80]);
                nodesTable.addRow([53, 'DRONE_LIGHT', DIR + 'sensor.png', 'image', 400 + moveX, moveY - 110]);

                nodesTable.addRow([54, 'DRONE_ALCOHOL_GAS', DIR + 'sensor.png', 'image', 480 + moveX, moveY - 90]);

                nodesTable.addRow([55, 'DRONE_GPS', DIR + 'sensor.png', 'image', 550 + moveX, moveY - 60]);

                nodesTable.addRow([56, 'demo_DUST', DIR + 'sensor.png', 'image', 680 + moveX, moveY - 50]);
                nodesTable.addRow([57, 'demo_GPS', DIR + 'sensor.png', 'image', 750 + moveX, moveY - 10]);

                nodesTable.addRow([58, 'demo_Video', DIR + 'cam.png', 'image', 240 + moveX, 70 + moveY]);


                //////////////////새로 추가된 CO_GAS
                nodesTable.addRow([59, 'DRONE_CO_GAS', DIR + 'sensor.png', 'image', 830 + moveX, 170 + moveY]);
                nodesTable.addRow([60, 'RASP_CO_GAS', DIR + 'sensor.png', 'image', 1050 + moveX, 470 + moveY]);
                nodesTable.addRow([61, 'RASP_CO_GAS', DIR + 'sensor.png', 'image', 720 + moveX, 520 + moveY]);
                nodesTable.addRow([62, 'DRONE_CO_GAS', DIR + 'sensor.png', 'image', 210 + moveX, moveY - 10]);
                /////////////////건국대데모장 드론
                nodesTable.addRow([63, 'DEMO_PHONE_VIDEO', DIR + 'cam.png', 'image', 730 + moveX, moveY + 80]);
                ////////////////GIST type C
                nodesTable.addRow([64, 'TYPE C - GIST', DIR + 'TYPEC-hard.PNG', 'image', 350 + moveX, moveY + 560]);
                /////////////////gist datalake
                nodesTable.addRow([65, 'DataLake', DIR + 'datalake.png', 'image', 310 + moveX, moveY + 700]);

                nodesTable.addRow([70, 'TYPE O - JEJU', DIR + 'TYPEO-hard.PNG', 'image', 360 + moveX, 270 + moveY]);

                nodesTable.addRow([71, 'Raspberry Pi', DIR + 'Raspberry.png', 'image', 220 + moveX, 270 + moveY]);
                nodesTable.addRow([72, 'RASP_1', DIR + 'sensor.png', 'image', 90 + moveX, 300 + moveY]);
                nodesTable.addRow([73, 'RASP_2', DIR + 'sensor.png', 'image', 100 + moveX, 230 + moveY]);
                nodesTable.addRow([74, 'RASP_3', DIR + 'sensor.png', 'image', 140 + moveX, 170 + moveY]);


//KU
                nodesTable.addRow([101, '', DIR + 'KU.png', 'image', 300 + moveX, 365 + moveY]);
//GIST
                nodesTable.addRow([102, '', DIR + 'GIST.png', 'image', 580 + moveX, 500 + moveY]);
//JNU
                nodesTable.addRow([103, '', DIR + 'JNU.png', 'image', 780 + moveX, 350 + moveY]);
//JEJU
                nodesTable.addRow([104, '', DIR + 'JEJU.png', 'image', 360 + moveX, 220 + moveY]);


		nodesTable.addRow([75, 'ALCOHOL', DIR + 'sensor.png', 'image', 220 + moveX, 170 + moveY]);
                nodesTable.addRow([76, 'GPS', DIR + 'sensor.png', 'image', 290 + moveX, 190 + moveY]);
                nodesTable.addRow([77, 'CO_GAS', DIR + 'sensor.png', 'image', 170 + moveX, 330 + moveY]);


		// camera line moving arrow

                nodesTable.addRow([301, '','','image', 550 + moveX, 350 + moveY + deltaCam]);
                nodesTable.addRow([304, '','', 'image', 780 + moveX, 400 + moveY + deltaCam]);
                nodesTable.addRow([310, '', '', 'image', 950 + moveX, 300 + moveY + deltaCam]);



                /////////////////////////////////linkstable

                linksTable.addColumn('number', 'from');
                linksTable.addColumn('number', 'to');
                linksTable.addColumn('number', 'id');
                linksTable.addColumn('string', 'style');
                linksTable.addColumn('string', 'color');


                linksTable.addRow([2, 1, 1, 'moving-arrows', undefined]);
                linksTable.addRow([3, 1, 2, 'moving-arrows', undefined]);
                linksTable.addRow([4, 1, 3, 'moving-arrows', undefined]);
                linksTable.addRow([4, 1, 5, 'line', undefined]);

                linksTable.addRow([8, 2, 7, 'line', undefined]);
		//cam
                linksTable.addRow([9, 10, 8, 'line', undefined]);
                linksTable.addRow([10, 4, 9, 'line', undefined]);
                linksTable.addRow([11, 8, 10, 'line', undefined]);
                linksTable.addRow([12, 8, 11, 'line', undefined]);
		//cam
                linksTable.addRow([13, 8, 12, 'line', undefined]);
                linksTable.addRow([14, 10, 13, 'line', undefined]);
                linksTable.addRow([15, 10, 14, 'line', undefined]);
                linksTable.addRow([16, 10, 15, 'line', undefined]);


                //KOREN - DEMO SITE
                linksTable.addRow([17, 1, 16, 'moving-arrows', undefined]);
                linksTable.addRow([18, 17, 17, 'line', undefined]);
                linksTable.addRow([19, 17, 18, 'line', undefined]);


                linksTable.addRow([20, 10, 19, 'line', undefined]);

                linksTable.addRow([21, 3, 20, 'line', undefined]);

                linksTable.addRow([22, 21, 21, 'line', undefined]);
                linksTable.addRow([23, 21, 22, 'line', undefined]);
                linksTable.addRow([24, 21, 23, 'line', undefined]);
                linksTable.addRow([25, 21, 24, 'line', undefined]);

                linksTable.addRow([26, 10, 25, 'line', undefined]);
                linksTable.addRow([27, 21, 90, 'line', undefined]);


                ////////////JNU LINK new in 1101
                linksTable.addRow([31, 4, 41, 'line', undefined]);
                linksTable.addRow([32, 31, 42, 'line', undefined]);
                linksTable.addRow([33, 31, 43, 'line', undefined]);
                linksTable.addRow([34, 31, 44, 'line', undefined]);
                linksTable.addRow([35, 31, 45, 'line', undefined]);
                linksTable.addRow([36, 31, 46, 'line', undefined]);

                //////////////////////안 쓰는 sensor 추가부분.
                linksTable.addRow([51, 18, 26, 'line', undefined]);
                linksTable.addRow([52, 18, 27, 'line', undefined]);
                linksTable.addRow([53, 18, 28, 'line', undefined]);
                linksTable.addRow([54, 18, 29, 'line', undefined]);
                linksTable.addRow([55, 18, 30, 'line', undefined]);
                linksTable.addRow([56, 19, 31, 'line', undefined]);
                linksTable.addRow([57, 19, 32, 'line', undefined]);
		//cam
                linksTable.addRow([58, 18, 33, 'line', undefined]);

                linksTable.addRow([59, 10, 47, 'line', undefined]);
                linksTable.addRow([60, 31, 48, 'line', undefined]);
                linksTable.addRow([61, 21, 49, 'line', undefined]);
                linksTable.addRow([62, 18, 50, 'line', undefined]);
		//cam
                linksTable.addRow([63, 19, 51, 'line', undefined]);
                ///////////////////////////GIST TYpe C - KOREN
                linksTable.addRow([1, 64, 52, 'moving-arrows', undefined]);
                ////////////////////////////gist datalake
                linksTable.addRow([64, 65, 53, 'moving-arrows', undefined]);


                linksTable.addRow([70, 1, 54, 'moving-arrows', undefined]);
                linksTable.addRow([71, 70, 55, 'line', undefined]);

                linksTable.addRow([72, 71, 56, 'line', undefined]);
                linksTable.addRow([73, 71, 57, 'line', undefined]);
                linksTable.addRow([74, 71, 58, 'line', undefined]);


		
	        linksTable.addRow([75, 71, 59, 'line', undefined]);
       		linksTable.addRow([76, 71, 60, 'line', undefined]);
         	linksTable.addRow([77, 71, 61, 'line', undefined]);

		
       		linksTable.addRow([304, 301, 300, 'line', 'WHITE']);
       		linksTable.addRow([310, 304, 301, 'line', 'WHITE']);
		
                //node random position
                //randoms x,y variable



                //nodesTable.setCell(0, 4, cx);
                //nodesTable.setCell(0, 5, cy);


                // specify options

                options = {
                    //adjust the frame size 

                    'width': '1920px',
                    'height': '1080px',
                    //  'stabilize': true;
                    'links': {

                        'width': 3.5
                    }


                };
                // network ID 
                network = new links.Network(document.getElementById('mynetwork'));

                network.draw(nodesTable, linksTable, options);//draw the network topology

                //set the canvas size
                network._setSize("100%", "100%");


                //////////////////노드클릭 -> 그라파나 호출
                links.events.addListener(network, 'select', function (params) {
                    var string = JSON.stringify(network.getSelection()).split(':');
                    var nodeno = string[1].slice(0, -2);

                    //alert(nodeno);

                    if (nodeno == 39)
                        parent.document.getElementById("grafana1").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_drone?refresh=3s&orgId=1&panelId=3&from=1511157321886&to=1511157361886";
                            if(nodeno == 8)
                            parent.document.getElementById("grafana1").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_drone?refresh=3s&orgId=1&panelId=1&from=1511157271479&to=1511157311479";
                            if(nodeno == 9)
                            parent.document.getElementById("grafana1").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_drone?refresh=3s&orgId=1&panelId=5&from=1511157370888&to=1511157410888";
                            if(nodeno == 10)
                            parent.document.getElementById("grafana1").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_drone?refresh=3s&orgId=1&panelId=2&from=1511157298231&to=1511157338231";
                            if(nodeno == 11)
                            parent.document.getElementById("grafana").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_drone?refresh=3s&orgId=1&panelId=4&from=1511157344443&to=1511157384443";
                        
                           
                            if(nodeno == 40)
                             parent.document.getElementById("grafana2").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_rasp2?orgId=1&from=1511157486095&to=1511157556098&refresh=3s&panelId=3";
                            if(nodeno == 20)
                            parent.document.getElementById("grafana2").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_rasp2?orgId=1&from=1511157406186&to=1511157476186&refresh=3s&panelId=1";
                            if(nodeno == 21)
                            parent.document.getElementById("grafana2").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_rasp2?orgId=1&from=1511157505240&to=1511157575240&refresh=3s&panelId=5";
                            if(nodeno == 22)
                            parent.document.getElementById("grafana2").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_rasp2?orgId=1&from=1511157443775&to=1511157513778&refresh=3s&panelId=2";
                            if(nodeno == 23)
                            parent.document.getElementById("grafana2").src = "http://210.114.90.191:3000/dashboard-solo/db/jnu_rasp2?orgId=1&from=1511157462978&to=1511157532981&refresh=3s&panelId=4";
                            
                            
                            
                           if(nodeno == 28)
                            parent.document.getElementById("grafana3").src = "210.114.90.176";
                        



                });

            }

            //setTimeout("location.reload(true)",10000)





            /** setCell(Table_row, Table_column, constant)
             * **/

        </script>

    </head>

    <body>
        <script src="/socket.io/socket.io.js"></script> 
        <div id="mynetwork" ></div>

        <script type="text/javascript">
            // socket.io 서버에 접속한다
            var socket = io();
            socket.emit("init", {
                connect: 'on'
            });
            // 서버로부터의 메시지가 수신되면

            socket.on("JNU01rasp", function (data) {
                console.log(data);
                if (data == null) {

                    //전남대 TYPE 0 - 전남대 라즈베리파이 링크
                    linksTable.setCell(24, 3, 'line');

                    nodesTable.setCell(20, 2, DIR + 'sensor.png');
                    nodesTable.setCell(21, 2, DIR + 'sensor.png');
                    nodesTable.setCell(22, 2, DIR + 'sensor.png');
                    nodesTable.setCell(23, 2, DIR + 'sensor.png');
                    nodesTable.setCell(24, 2, DIR + 'sensor.png');
                    nodesTable.setCell(40, 2, DIR + 'sensor.png');

                    linksTable.setCell(25, 3, 'line');
                    linksTable.setCell(26, 3, 'line');
                    linksTable.setCell(27, 3, 'line');
                    linksTable.setCell(28, 3, 'line');
                    linksTable.setCell(29, 3, 'line');
                    linksTable.setCell(39, 3, 'line');

                    network.draw(nodesTable, linksTable, options);

                } else {

                    //전남대 TYPE 0 - 전남대 라즈베리파이 링크
                    linksTable.setCell(24, 3, 'moving-arrows');

                    if (data.temp == "null") {
                        nodesTable.setCell(20, 2, DIR + 'sensor.png');
                        linksTable.setCell(25, 3, 'line');
                    } else {
                        nodesTable.setCell(20, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(25, 3, 'moving-arrows');
                    }

                    if (data.dust == "null") {
                        nodesTable.setCell(21, 2, DIR + 'sensor.png');
                        linksTable.setCell(26, 3, 'line');
                    } else {
                        nodesTable.setCell(21, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(26, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(21, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.light == "null") {
                        nodesTable.setCell(22, 2, DIR + 'sensor.png');
                        linksTable.setCell(27, 3, 'line');
                    } else {
                        nodesTable.setCell(22, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(27, 3, 'moving-arrows');

                        if (data.light * 1 > 700 || data.light * 1 < 150) {
                            nodesTable.setCell(22, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.alcohol_gas == "null") {
                        nodesTable.setCell(23, 2, DIR + 'sensor.png');
                        linksTable.setCell(28, 3, 'line');
                    } else {
                        nodesTable.setCell(23, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(28, 3, 'moving-arrows');

                        if (data.alcohol_gas * 1 > 150) {
                            nodesTable.setCell(23, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(24, 2, DIR + 'sensor.png');
                        linksTable.setCell(29, 3, 'line');
                    } else {
                        nodesTable.setCell(24, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(29, 3, 'moving-arrows');
                    }

                    if (data.co_gas == "null") {
                        nodesTable.setCell(40, 2, DIR + 'sensor.png');
                        linksTable.setCell(39, 3, 'line');
                    } else {
                        nodesTable.setCell(40, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(39, 3, 'moving-arrows');

                        if (data.co_gas * 1 > 300) {
                            nodesTable.setCell(40, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
                    network.draw(nodesTable, linksTable, options);


                }
            });

            socket.on("JNU02drone", function (data) {
                console.log(data);

                if (data == null) {

                    //전남대 TYPE 0 - 전남대 드론 링크
                    linksTable.setCell(6, 3, 'line');

                    nodesTable.setCell(8, 2, DIR + 'sensor.png');
                    nodesTable.setCell(9, 2, DIR + 'sensor.png');
                    nodesTable.setCell(10, 2, DIR + 'sensor.png');
                    nodesTable.setCell(11, 2, DIR + 'sensor.png');
                    nodesTable.setCell(12, 2, DIR + 'sensor.png');
                    nodesTable.setCell(39, 2, DIR + 'sensor.png');

                    linksTable.setCell(10, 3, 'line');
                    linksTable.setCell(11, 3, 'line');
                    linksTable.setCell(12, 3, 'line');
                    linksTable.setCell(16, 3, 'line');
                    linksTable.setCell(22, 3, 'line');
                    linksTable.setCell(38, 3, 'line');

                    network.draw(nodesTable, linksTable, options);

                } else {

                    //데모 TYPE 0 - 전남대 드론 링크
                    linksTable.setCell(6, 3, 'moving-arrows');

                    if (data.temp == "null") {
                        nodesTable.setCell(8, 2, DIR + 'sensor.png');
                        linksTable.setCell(10, 3, 'line');
                    } else {
                        nodesTable.setCell(8, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(10, 3, 'moving-arrows');
                    }

                    if (data.dust == "null") {
                        nodesTable.setCell(9, 2, DIR + 'sensor.png');
                        linksTable.setCell(11, 3, 'line');
                    } else {
                        nodesTable.setCell(9, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(11, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(9, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.light == "null") {
                        nodesTable.setCell(10, 2, DIR + 'sensor.png');
                        linksTable.setCell(12, 3, 'line');
                    } else {
                        nodesTable.setCell(10, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(12, 3, 'moving-arrows');

                        if (data.light * 1 > 600 || data.light * 1 < 150) {
                            nodesTable.setCell(10, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.alcohol_gas == "null") {
                        nodesTable.setCell(11, 2, DIR + 'sensor.png');
                        linksTable.setCell(16, 3, 'line');
                    } else {
                        nodesTable.setCell(11, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(16, 3, 'moving-arrows');

                        if (data.alcohol_gas * 1 > 150) {
                            nodesTable.setCell(11, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(12, 2, DIR + 'sensor.png');
                        linksTable.setCell(22, 3, 'line');
                    } else {
                        nodesTable.setCell(12, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(22, 3, 'moving-arrows');
                    }

                    if (data.co_gas == "null") {
                        nodesTable.setCell(39, 2, DIR + 'sensor.png');
                        linksTable.setCell(38, 3, 'line');
                    } else {
                        nodesTable.setCell(39, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(38, 3, 'moving-arrows');

                        if (data.co_gas * 1 > 300) {
                            nodesTable.setCell(39, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
                    network.draw(nodesTable, linksTable, options);


                }
            });



            socket.on("JNU03demo", function (data) {
                console.log(data);

                if (data == null) {

                    //데모 TYPE 0 - 전남대 드론 링크
                    linksTable.setCell(14, 3, 'line');

                    nodesTable.setCell(31, 2, DIR + 'sensor.png');
                    nodesTable.setCell(32, 2, DIR + 'sensor.png');
                    nodesTable.setCell(33, 2, DIR + 'sensor.png');
                    nodesTable.setCell(34, 2, DIR + 'sensor.png');
                    nodesTable.setCell(35, 2, DIR + 'sensor.png');
                    nodesTable.setCell(42, 2, DIR + 'sensor.png');

                    linksTable.setCell(30, 3, 'line');
                    linksTable.setCell(31, 3, 'line');
                    linksTable.setCell(32, 3, 'line');
                    linksTable.setCell(33, 3, 'line');
                    linksTable.setCell(34, 3, 'line');
                    linksTable.setCell(41, 3, 'line');

                    network.draw(nodesTable, linksTable, options);

                } else {

                    //데모 TYPE 0 - 전남대 드론 링크
                    linksTable.setCell(14, 3, 'moving-arrows');

                    if (data.temp == "null") {
                        nodesTable.setCell(31, 2, DIR + 'sensor.png');
                        linksTable.setCell(30, 3, 'line');
                    } else {
                        nodesTable.setCell(31, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(30, 3, 'moving-arrows');
                    }

                    if (data.dust == "null") {
                        nodesTable.setCell(32, 2, DIR + 'sensor.png');
                        linksTable.setCell(31, 3, 'line');
                    } else {
                        nodesTable.setCell(32, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(31, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(31, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.light == "null") {
                        nodesTable.setCell(33, 2, DIR + 'sensor.png');
                        linksTable.setCell(32, 3, 'line');
                    } else {
                        nodesTable.setCell(33, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(32, 3, 'moving-arrows');

                        if (data.light * 1 > 600 || data.light * 1 < 150) {
                            nodesTable.setCell(33, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.alcohol_gas == "null") {
                        nodesTable.setCell(34, 2, DIR + 'sensor.png');
                        linksTable.setCell(33, 3, 'line');
                    } else {
                        nodesTable.setCell(34, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(33, 3, 'moving-arrows');

                        if (data.alcohol_gas * 1 > 150) {
                            nodesTable.setCell(34, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(35, 2, DIR + 'sensor.png');
                        linksTable.setCell(34, 3, 'line');
                    } else {
                        nodesTable.setCell(35, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(34, 3, 'moving-arrows');
                    }

                    if (data.co_gas == "null") {
                        nodesTable.setCell(42, 2, DIR + 'sensor.png');
                        linksTable.setCell(41, 3, 'line');
                    } else {
                        nodesTable.setCell(42, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(41, 3, 'moving-arrows');

                        if (data.co_gas * 1 > 300) {
                            nodesTable.setCell(42, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
                    network.draw(nodesTable, linksTable, options);


                }
            });

            socket.on("KU01phone", function (data) {
                console.log(data);

                if (data == null) {

                    //KU TYPE 0 - KU phone 링크
                    linksTable.setCell(4, 3, 'line');

                    nodesTable.setCell(28, 2, DIR + 'sensor.png');
                    nodesTable.setCell(29, 2, DIR + 'sensor.png');

                    linksTable.setCell(7, 3, 'line');
                    linksTable.setCell(8, 3, 'line');


                    network.draw(nodesTable, linksTable, options);

                } else {


                    //KU TYPE 0 - KU phone 링크
                    linksTable.setCell(4, 3, 'moving-arrows');

                    if (data.dust == "null") {
                        nodesTable.setCell(28, 2, DIR + 'sensor.png');
                        linksTable.setCell(7, 3, 'line');
                    } else {
                        nodesTable.setCell(28, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(7, 3, 'moving-arrows');


                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(29, 2, DIR + 'sensor.png');
                        linksTable.setCell(8, 3, 'line');
                    } else {
                        nodesTable.setCell(29, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(8, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(29, 2, DIR + 'sensorOFF.PNG');
                        }
                    }




                    network.draw(nodesTable, linksTable, options);


                }
            });


            socket.on("KU02demo", function (data) {
                console.log(data);

                if (data == null) {

                    //demo TYPE 0 - KU phone 링크
                    linksTable.setCell(15, 3, 'line');

                    nodesTable.setCell(36, 2, DIR + 'sensor.png');
                    nodesTable.setCell(37, 2, DIR + 'sensor.png');



                    linksTable.setCell(35, 3, 'line');
                    linksTable.setCell(36, 3, 'line');


                    network.draw(nodesTable, linksTable, options);

                } else {


                    //demo TYPE 0 - KU phone 링크
                    linksTable.setCell(15, 3, 'moving-arrows');

                    if (data.dust == "null") {
                        nodesTable.setCell(36, 2, DIR + 'sensor.png');
                        linksTable.setCell(35, 3, 'line');
                    } else {
                        nodesTable.setCell(36, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(35, 3, 'moving-arrows');
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(37, 2, DIR + 'sensor.png');
                        linksTable.setCell(36, 3, 'line');
                    } else {
                        nodesTable.setCell(37, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(36, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(37, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    network.draw(nodesTable, linksTable, options);

                }
            });


	    socket.on("JNUCAM", function (data) {

		console.log("JNUCAM : " + data)
		if(data == true) {
		
		linksTable.setCell( 5, 3, 'moving-arrows');
		linksTable.setCell( 5, 4, 'RED');
		
		linksTable.setCell( 53, 3, 'moving-arrows');
		linksTable.setCell( 54, 3, 'moving-arrows');
		linksTable.setCell( 53, 4, 'RED');
		linksTable.setCell( 54, 4, 'RED');

		} else {
		
		linksTable.setCell( 5, 3, 'line');
		linksTable.setCell( 5, 4, undefined);
		linksTable.setCell( 53, 3, 'line');
		linksTable.setCell( 53, 3, 'line');
		linksTable.setCell( 54, 4, 'WHITE');
		linksTable.setCell( 54, 4, 'WHITE');
		
		}
		network.draw(nodesTable, linksTable, options);
	    })


	   socket.on("KUCAM", function (data) {

                console.log("KUCAM : " + data)
                if(data == true) {

                linksTable.setCell( 40, 3, 'moving-arrows', 'RED');

                } else {

                linksTable.setCell( 40, 3, 'line', undefined);

                }
                network.draw(nodesTable, linksTable, options);
            })


	    socket.on("JEJU01rasp", function (data) {
                console.log(data);
                if (data == null) {

                    //JEJU TYPE 0 - JEJU 라즈베리파이 링크
                    linksTable.setCell(46, 3, 'line');

                    nodesTable.setCell(48, 2, DIR + 'sensor.png');
                    nodesTable.setCell(49, 2, DIR + 'sensor.png');
                    nodesTable.setCell(50, 2, DIR + 'sensor.png');
                    nodesTable.setCell(55, 2, DIR + 'sensor.png');
                    nodesTable.setCell(56, 2, DIR + 'sensor.png');
                    nodesTable.setCell(57, 2, DIR + 'sensor.png');

                    linksTable.setCell(47, 3, 'line');
                    linksTable.setCell(48, 3, 'line');
                    linksTable.setCell(49, 3, 'line');
                    linksTable.setCell(50, 3, 'line');
                    linksTable.setCell(51, 3, 'line');
                    linksTable.setCell(52, 3, 'line');

                    network.draw(nodesTable, linksTable, options);

                } else {

                    //JEJU TYPE 0 - JEJU 라즈베리파이 링크
                    linksTable.setCell(46, 3, 'moving-arrows');

                    if (data.temp == "null") {
                        nodesTable.setCell(48, 2, DIR + 'sensor.png');
                        linksTable.setCell(47, 3, 'line');
                    } else {
                        nodesTable.setCell(48, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(47, 3, 'moving-arrows');
                    }

                    if (data.dust == "null") {
                        nodesTable.setCell(49, 2, DIR + 'sensor.png');
                        linksTable.setCell(48, 3, 'line');
                    } else {
                        nodesTable.setCell(49, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(48, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(49, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
			if (data.light == "null") {
                        nodesTable.setCell(50, 2, DIR + 'sensor.png');
                        linksTable.setCell(49, 3, 'line');
                    } else {
                        nodesTable.setCell(50, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(49, 3, 'moving-arrows');

                        if (data.light * 1 > 700 || data.light * 1 < 150) {
                            nodesTable.setCell(50, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.alcohol_gas == "null") {
                        nodesTable.setCell(55, 2, DIR + 'sensor.png');
                        linksTable.setCell(50, 3, 'line');
                    } else {
                        nodesTable.setCell(55, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(50, 3, 'moving-arrows');

                        if (data.alcohol_gas * 1 > 150) {
                            nodesTable.setCell(55, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(56, 2, DIR + 'sensor.png');
                        linksTable.setCell(51, 3, 'line');
                    } else {
                        nodesTable.setCell(56, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(51, 3, 'moving-arrows');
                    }


                    if (data.co_gas == "null") {
                        nodesTable.setCell(57, 2, DIR + 'sensor.png');
                        linksTable.setCell(58, 3, 'line');
                    } else {
                        nodesTable.setCell(57, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(52, 3, 'moving-arrows');

                        if (data.co_gas * 1 > 300) {
                            nodesTable.setCell(57, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
                    network.draw(nodesTable, linksTable, options);
		}
	   });

            socket.on("GIST01rasp", function (data) {
                console.log(data);
                if (data == null) {

                    //지스트 TYPE 0 - 지스트 라즈베리파이 링크
                    linksTable.setCell(17, 3, 'line');

                    nodesTable.setCell(14, 2, DIR + 'sensor.png');
                    nodesTable.setCell(15, 2, DIR + 'sensor.png');
                    nodesTable.setCell(16, 2, DIR + 'sensor.png');
                    nodesTable.setCell(17, 2, DIR + 'sensor.png');
                    nodesTable.setCell(18, 2, DIR + 'sensor.png');
                    nodesTable.setCell(41, 2, DIR + 'sensor.png');

                    linksTable.setCell(18, 3, 'line');
                    linksTable.setCell(19, 3, 'line');
                    linksTable.setCell(20, 3, 'line');
                    linksTable.setCell(21, 3, 'line');
                    linksTable.setCell(23, 3, 'line');
                    linksTable.setCell(40, 3, 'line');

                    network.draw(nodesTable, linksTable, options);

                } else {

                    //전남대 TYPE 0 - 전남대 라즈베리파이 링크
                    linksTable.setCell(17, 3, 'moving-arrows');

                    if (data.temp == "null") {
                        nodesTable.setCell(14, 2, DIR + 'sensor.png');
                        linksTable.setCell(18, 3, 'line');
                    } else {
                        nodesTable.setCell(14, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(18, 3, 'moving-arrows');
                    }

                    if (data.dust == "null") {
                        nodesTable.setCell(15, 2, DIR + 'sensor.png');
                        linksTable.setCell(19, 3, 'line');
                    } else {
                        nodesTable.setCell(15, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(19, 3, 'moving-arrows');

                        if (data.dust * 1 > 200) {
                            nodesTable.setCell(15, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.light == "null") {
                        nodesTable.setCell(16, 2, DIR + 'sensor.png');
                        linksTable.setCell(20, 3, 'line');
                    } else {
                        nodesTable.setCell(16, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(20, 3, 'moving-arrows');

                        if (data.light * 1 > 700 || data.light * 1 < 150) {
                            nodesTable.setCell(16, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.alcohol_gas == "null") {
                        nodesTable.setCell(17, 2, DIR + 'sensor.png');
                        linksTable.setCell(21, 3, 'line');
                    } else {
                        nodesTable.setCell(17, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(21, 3, 'moving-arrows');

                        if (data.alcohol_gas * 1 > 150) {
                            nodesTable.setCell(17, 2, DIR + 'sensorOFF.PNG');
                        }
                    }

                    if (data.longitude == "null" || data.latitude == "null") {
                        nodesTable.setCell(18, 2, DIR + 'sensor.png');
                        linksTable.setCell(23, 3, 'line');
                    } else {
                        nodesTable.setCell(18, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(23, 3, 'moving-arrows');
                    }

                    if (data.co_gas == "null") {
                        nodesTable.setCell(41, 2, DIR + 'sensor.png');
                        linksTable.setCell(40, 3, 'line');
                    } else {
                        nodesTable.setCell(41, 2, DIR + 'sensorON.PNG');
                        linksTable.setCell(40, 3, 'moving-arrows');

                        if (data.co_gas * 1 > 300) {
                            nodesTable.setCell(41, 2, DIR + 'sensorOFF.PNG');
                        }
                    }
                    network.draw(nodesTable, linksTable, options);
                }
            });

        </script>
    </body>

</html>
